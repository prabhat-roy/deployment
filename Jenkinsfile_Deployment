pipeline {
    agent any
    stages {
        stage('Cleanup Workspace') {
            steps {
                script {
                    echo "[INFO] Cleaning up the workspace..."
                    // Load the cleanup script and execute it
                    def cleanup = load 'groovy/cleanup.groovy'
                    cleanup.cleanupWorkspace() // Assuming this handles workspace cleanup
                    echo "[INFO] Workspace cleaned successfully."
                }
            }
        
        }
        stage('Git Checkout') {
            steps {
                script {
                    echo "[INFO] Performing Git checkout..."
                    def checkoutScript = load 'groovy/checkout.groovy'
                    checkoutScript.checkoutFromGit(env.GIT_BRANCH, env.GIT_REPO_URL)  // Use the variables from global.env
                    echo "[INFO] Git checkout completed."
                }
            }
        }
        
    }
}