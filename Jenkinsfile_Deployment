pipeline {
    agent any
    stages {
        stage('Cleanup Workspace') {
            steps {
                script {
                    echo "[INFO] Cleaning up the workspace..."
                    // Load the cleanup script and execute it
                    def cleanup = load 'groovy/cleanup.groovy'
                    cleanup.cleanupWorkspace() // Assuming this handles workspace cleanup
                    echo "[INFO] Workspace cleaned successfully."
                }
            }
        
        }
        stage('Checkout from Git Repo') {
            steps {
                script {
                    // Load and run checkout.groovy to perform the Git checkout
                    echo "[INFO] Running Git checkout..."
                    def checkout = load 'groovy/checkout.groovy'
                    checkout.checkoutFromGit(env.BRANCH, env.GITHUB_URL)  // Call the checkout function
                }
            }
        }
    }
}