pipeline {
    agent any
    
    stages {

        stage('Git Checkout') {
            steps {
                script {
                    checkout scm
                    }
                }
            }
            stage('Load Environment Variables') {
            steps {
                script {
                    // Load the Groovy script that contains the function
                    def envLoader = load 'groovy/LoadEnvVars.groovy'

                    // Call the function to load environment variables from the env file
                    def envVars = envLoader.loadEnvVars(ENV_FILE_PATH)

                    // Inject environment variables into Jenkins environment
                    envVars.each { key, value ->
                        echo "[INFO] Setting env: ${key}=${value}"
                        env[key] = value
                    }
                }
            }
        }
        }
    }    
