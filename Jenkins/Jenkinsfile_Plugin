pipeline {
    agent any

    stages {
        stage('Git Checkout') {
            steps {
                script {
                    echo "ðŸ“¥ Checking out source code..."
                    checkout scm
                }
            }
        }

        stage('Install Jenkins Plugins') {
            steps {
                script {
                    def pluginInstallerClass = load 'groovy/install_jenkins_plugin.groovy'
                    def installer = new pluginInstallerClass(this)
                    installer.installPlugins()
                }
            }
        }
    }
}